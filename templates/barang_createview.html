{% extends 'base.html' %}

{% block content %}
<div class="container">
    <h1>Input Master Barang (Part Number)</h1>
    <form action="" method="post">{% csrf_token %}
        <table class="table">
            {{ form.as_table }}
            <tr>
                <td>
                    <button type="submit" class="btn btn-success">Save</button>
                    <a href="{% url 'list_barang' %}"  class="btn btn-danger">Cancel</a>
                </td>
                <td id="genQR">
                    <a href="#" id="buttonQR" class="btn btn-primary" onclick="tampilkanQR()">Generate QR</a>
                </td>
            </tr>
        </table>
    </form>
</div>
<script type="text/javascript">
    function tampilkanQR(){
        var source_qr = document.getElementById("id_part_number").value;
        var qr_code_file = document.getElementById("id_barcode").value;
        var path_qr = "/static/images/part_qrcodes/" + qr_code_file;
        var x = document.createElement("img");

        x.src = path_qr;
        x.width = "50";

        document.getElementById("id_barcode").value = source_qr + ".png"
        //alert(x);
        //document.getElementById("genQR").appendChild(x)
        //y = document.getElementById("buttonQR");
        //y.remove();
    }
    //tampilkanQR();
</script>
{% endblock content %}