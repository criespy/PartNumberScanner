{% extends 'base.html' %}

{% block content %}
<div class="container">
    <h1>Update Master Barang (Part Number)</h1>
    <form action="" method="post">{% csrf_token %}
        <table class="table">
            {{ form.as_table }}
            <tr>
                <td>
                    <button type="submit" class="btn btn-success">Update</button>
                    <a href="{% url 'list_barang' %}"  class="btn btn-danger">Cancel</a>
                </td>
                <td id="genQR">
                    <a href="#" id="buttonQR" class="btn btn-primary" onclick="tampilkanQR()">Generate QR</a>
                </td>
            </tr>
        </table>
    </form>
</div>
<script type="text/javascript">
    function tampilkanQR(){
        var path_qr = "/static/images/part_qrcodes/" + document.getElementById("id_barcode").value;
        var x = document.createElement("img");
        x.src = path_qr;
        x.width = "50";
        //alert(x);
        document.getElementById("genQR").appendChild(x)
        y = document.getElementById("buttonQR");
        y.remove();
    }
    //tampilkanQR();
</script>
<script src="https://cdn.jsdelivr.net/gh/AmagiTech/JSLoader/amagiloader.js"></script>
<script>
 AmagiLoader.show();
 setTimeout(() => {
    AmagiLoader.hide();
 }, 1000);
</script>
{% endblock content %}